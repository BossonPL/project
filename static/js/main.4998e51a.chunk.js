(this.webpackJsonpbook=this.webpackJsonpbook||[]).push([[0],{11:function(e,t,n){e.exports=n(20)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),l=n.n(o),c=(n(16),n(17),n(6)),u=n(10),s=n(1),i=n(2),h=n(4),m=n(3),d=n(5),p=(n(18),n(7)),g=n.n(p),E=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.guest;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,e.surname),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.street),r.a.createElement("td",null,e.country),r.a.createElement("td",null,e.arrive),r.a.createElement("td",null,e.departure),r.a.createElement("td",null,e.days),r.a.createElement("td",null,e.notes))}}]),t}(a.Component),f=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onButtonRemoveClick=function(){n.props.onButtonRemove()},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:this.onButtonRemoveClick}," Usu\u0144 ")}}]),t}(a.Component),y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onButtonEditClick=function(){n.props.onButtonEdit()},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:this.onButtonEditClick}," Edytuj ")}}]),t}(a.Component),v=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nazwisko"),r.a.createElement("th",null,"Imi\u0119"),r.a.createElement("th",null,"Miasto"),r.a.createElement("th",null,"Ulica"),r.a.createElement("th",null,"Kraj"),r.a.createElement("th",null,"Data przyjazdu"),r.a.createElement("th",null,"Data wyjazdu"),r.a.createElement("th",null,"Ilo\u015b\u0107 dni"),r.a.createElement("th",null,"Uwagi"))))}}]),t}(a.Component),b=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={guest:[],id:"",surname:"",name:"",country:"",city:"",street:"",arrive:"",departure:"",days:"",notes:"",searchGuests:[],nonPolandNbr:0},n.fetchGuests=function(){fetch("http://localhost:3000/guests").then((function(e){return e.json()})).then((function(e){return n.setState({guest:e})}))},n.onInputChange=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value));var t=n.state.guest.filter((function(e){return"Polska"!==e.country}));n.setState({nonPolandNbr:t.length})},n.onButtonClick=function(e){e.preventDefault();var t,a=new Date(n.state.arrive),r=new Date(n.state.departure).getTime()-a.getTime(),o=String(r/864e5);t="NaN"===o?0:o;var l=(new Date).toISOString().slice(0,10),u={id:g()(),surname:n.state.surname,name:n.state.name,country:n.state.country,city:n.state.city,street:n.state.street,arrive:n.state.arrive,departure:n.state.departure,days:t,notes:n.state.notes};n.setState({guest:[].concat(Object(c.a)(n.state.guest),[u]),id:"",surname:"",name:"",country:"",city:"",street:"",arrive:l,departure:l,days:"",notes:""});fetch("http://localhost:3000/guests",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(u)}).then((function(){return n.fetchGuests()}))},n.onButtonSearchClick=function(e){e.preventDefault();var t=n.state.guest.filter((function(e){return e.surname===n.state.surname})),a=n.state.guest.filter((function(e){return e.name===n.state.name})),r=n.state.guest.filter((function(e){return e.country===n.state.country})),o=n.state.guest.filter((function(e){return e.arrive===n.state.arrive}));n.setState({searchGuests:[].concat(Object(c.a)(t),Object(c.a)(a),Object(c.a)(r),Object(c.a)(o)),surname:"",name:"",country:"",arrive:""})},n.onGuestDelete=function(e){var t="http://localhost:3000/guests/".concat(e);fetch(t,{method:"delete"}).then((function(){return n.fetchGuests()})),n.setState({searchGuests:[]})},n.onGuestEdit=function(e){var t="http://localhost:3000/guests/".concat(e);fetch(t).then((function(e){return e.json()})).then((function(e){return n.setState({surname:e.surname,name:e.name,country:e.country,city:e.city,street:e.street,arrive:e.arrive,departure:e.departure,notes:e.notes})})).then((function(){return n.onGuestDelete(e)}))},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchGuests();var e=(new Date).toISOString().slice(0,10);this.setState({arrive:e,departure:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.surname,a=t.name,o=t.country,l=t.city,c=t.street,u=t.arrive,s=t.departure,i=t.guest,h=t.notes,m=t.searchGuests;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"logo"}),r.a.createElement("h1",null," Rejestracja Go\u015bci "),r.a.createElement("p",null," Ilo\u015b\u0107 go\u015bci w bazie : ",i.length),r.a.createElement("p",null," ",0!==this.state.nonPolandNbr?"Ilo\u015b\u0107 zagranicznych go\u015bci w bazie : ".concat(this.state.nonPolandNbr):null),r.a.createElement("form",{className:"form"},r.a.createElement("input",{onChange:this.onInputChange,type:"text",name:"surname",value:n,placeholder:"Nazwisko"}),r.a.createElement("input",{onChange:this.onInputChange,type:"text",name:"name",value:a,placeholder:"Imi\u0119"}),r.a.createElement("input",{onChange:this.onInputChange,type:"text",name:"country",value:o,placeholder:"Kraj pochodzenia"}),r.a.createElement("input",{onChange:this.onInputChange,type:"text",name:"city",value:l,placeholder:"Miasto"}),r.a.createElement("input",{onChange:this.onInputChange,type:"text",name:"street",value:c,placeholder:"Ulica"}),r.a.createElement("input",{onChange:this.onInputChange,type:"date",name:"arrive",value:u,placeholder:"Data przyjazdu : "}),r.a.createElement("input",{onChange:this.onInputChange,type:"date",name:"departure",value:s,placeholder:"Data wyjazdu : "}),r.a.createElement("input",{onChange:this.onInputChange,type:"textarea",name:"notes",value:h,placeholder:"Uwagi"})),r.a.createElement("div",{className:"buttons"},n.length+a.length+o.length+l.length+c.length+u.length+s.length!==0?r.a.createElement("button",{onClick:this.onButtonSearchClick,className:"btn search",name:"szukaj"}," Szukaj "):null,n.length+a.length+o.length+l.length+c.length!==0?r.a.createElement("button",{onClick:this.onButtonClick,className:"btn add",name:"dodaj"}," Dodaj"):null)),r.a.createElement("table",{className:"zui-table"},r.a.createElement("tbody",null,m.map((function(t){return r.a.createElement("tr",{key:g()()},r.a.createElement(E,{guest:t}),r.a.createElement(y,{onButtonEdit:e.onGuestEdit.bind(e,t.id)}),r.a.createElement(f,{onButtonRemove:e.onGuestDelete.bind(e,t.id)}))})))),r.a.createElement("table",{className:"zui-table"},r.a.createElement(v,null),r.a.createElement("tbody",null,i.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement(E,{guest:t}),r.a.createElement(y,{onButtonEdit:e.onGuestEdit.bind(e,t.id)}),r.a.createElement(f,{onButtonRemove:e.onGuestDelete.bind(e,t.id)}))})))))}}]),t}(a.Component);var j=function(){return r.a.createElement(b,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.4998e51a.chunk.js.map