(this.webpackJsonpbook=this.webpackJsonpbook||[]).push([[0],{11:function(e,t,n){e.exports=n(20)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(7),o=n.n(l),c=(n(16),n(17),n(10)),u=n(8),s=n(1),i=n(2),h=n(4),d=n(3),m=n(5),E=(n(18),n(9)),g=n.n(E),y=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nazwisko"),r.a.createElement("th",null,"Imi\u0119"),r.a.createElement("th",null,"Miasto"),r.a.createElement("th",null,"Ulica"),r.a.createElement("th",null,"Kraj"),r.a.createElement("th",null,"Data przyjazdu"),r.a.createElement("th",null,"Data wyjazdu"),r.a.createElement("th",null,"Ilo\u015b\u0107 dni"),r.a.createElement("th",null,"Uwagi"))))}}]),t}(a.Component),p=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.guest;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,e.surname),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.street),r.a.createElement("td",null,e.country),r.a.createElement("td",null,e.arrive),r.a.createElement("td",null,e.departure),r.a.createElement("td",null,e.days),r.a.createElement("td",null,e.notes))}}]),t}(a.Component),b=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={guest:[],id:"",surname:"",name:"",country:"",city:"",street:"",arrive:"",departure:"",days:"",notes:"",searchGuests:[],searchNameGuests:[],searchCountryGuests:[],searchDateGuests:[],nonPolandNbr:""},n.fetchGuests=function(){fetch("http://localhost:3000/guests").then((function(e){return e.json()})).then((function(e){return n.setState({guest:e})}))},n.onInputChange=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value));var t=n.state.guest.filter((function(e){return"Polska"!==e.country}));n.setState({nonPolandNbr:t.length})},n.onButtonClick=function(e){e.preventDefault();var t=new Date(n.state.arrive),a=(new Date(n.state.departure).getTime()-t.getTime())/864e5,r={id:g()(),surname:n.state.surname,name:n.state.name,country:n.state.country,city:n.state.city,street:n.state.street,arrive:n.state.arrive,departure:n.state.departure,days:a,notes:n.state.notes};n.setState({guest:[].concat(Object(c.a)(n.state.guest),[r]),id:"",surname:"",name:"",country:"",city:"",street:"",arrive:"",departure:"",days:"",notes:""});fetch("http://localhost:3000/guests",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(r)}).then((function(){return n.fetchGuests()}))},n.onButtonSearchClick=function(e){e.preventDefault();var t=n.state.guest.filter((function(e){return e.surname===n.state.surname}));n.setState({searchGuests:t,surname:""});var a=n.state.guest.filter((function(e){return e.name===n.state.name}));n.setState({searchNameGuests:a,name:""});var r=n.state.guest.filter((function(e){return e.country===n.state.country}));n.setState({searchCountryGuests:r,country:""});var l=n.state.guest.filter((function(e){return e.arrive===n.state.arrive}));n.setState({searchDateGuests:l,date:""})},n.onGuestDelete=function(e){var t="http://localhost:3000/guests/".concat(e);fetch(t,{method:"delete"}).then((function(){return n.fetchGuests()})),n.setState({searchGuests:[],searchNameGuests:[],searchCountryGuests:[],searchDateGuests:[]})},n.onGuestEdit=function(e){var t="http://localhost:3000/guests/".concat(e);fetch(t).then((function(e){return e.json()})).then((function(e){return n.setState({surname:e.surname,name:e.name,country:e.country,city:e.city,street:e.street,arrive:e.arrive,departure:e.departure,notes:e.notes})})).then((function(){return n.onGuestDelete(e)}))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchGuests()}},{key:"render",value:function(){var e=this,t=this.state,n=t.surname,a=t.name,l=t.country,o=t.city,c=t.street,u=t.arrive,s=t.departure,i=t.guest,h=t.notes,d=t.searchGuests,m=t.searchNameGuests,E=t.searchCountryGuests,g=t.searchDateGuests;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"logo"}),r.a.createElement("h1",null," Rejestracja Go\u015bci "),r.a.createElement("p",null," Ilo\u015b\u0107 go\u015bci w bazie : ",i.length),r.a.createElement("p",null," ",0!==this.state.nonPolandNbr?"Ilo\u015b\u0107 zagranicznych go\u015bci w bazie : ".concat(this.state.nonPolandNbr):null),r.a.createElement("form",{className:"form"},r.a.createElement("input",{onChange:this.onInputChange,type:"text",name:"surname",value:n,placeholder:"Nazwisko"}),r.a.createElement("input",{onChange:this.onInputChange,type:"text",name:"name",value:a,placeholder:"Imi\u0119"}),r.a.createElement("input",{onChange:this.onInputChange,type:"text",name:"country",value:l,placeholder:"Kraj pochodzenia"}),r.a.createElement("input",{onChange:this.onInputChange,type:"text",name:"city",value:o,placeholder:"Miasto"}),r.a.createElement("input",{onChange:this.onInputChange,type:"text",name:"street",value:c,placeholder:"Ulica"}),r.a.createElement("input",{onChange:this.onInputChange,type:"date",name:"arrive",value:u,placeholder:"Data przyjazdu : "}),r.a.createElement("input",{onChange:this.onInputChange,type:"date",name:"departure",value:s,placeholder:"Data wyjazdu : "}),r.a.createElement("input",{onChange:this.onInputChange,type:"textarea",name:"notes",value:h,placeholder:"Uwagi"})),r.a.createElement("div",{className:"buttons"},n.length+a.length+l.length+o.length+c.length+u.length+s.length!==0?r.a.createElement("button",{onClick:this.onButtonSearchClick,className:"btn search",name:"szukaj"}," Szukaj "):null,n.length+a.length+l.length+o.length+c.length+u.length+s.length!==0?r.a.createElement("button",{onClick:this.onButtonClick,className:"btn add",name:"dodaj"}," Dodaj"):null)),r.a.createElement("table",{className:"zui-table"},r.a.createElement("tbody",null,E.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement(p,{guest:t}),r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:e.onGuestEdit.bind(e,t.id)}," Edytuj "),r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:e.onGuestDelete.bind(e,t.id)}," Usu\u0144 "))})))),r.a.createElement("table",{className:"zui-table"},r.a.createElement("tbody",null,g.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement(p,{guest:t}),r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:e.onGuestEdit.bind(e,t.id)}," Edytuj "),r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:e.onGuestDelete.bind(e,t.id)}," Usu\u0144 "))})))),r.a.createElement("table",{className:"zui-table"},r.a.createElement("tbody",null,m.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement(p,{guest:t}),r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:e.onGuestEdit.bind(e,t.id)}," Edytuj "),r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:e.onGuestDelete.bind(e,t.id)}," Usu\u0144 "))})))),r.a.createElement("table",{className:"zui-table"},r.a.createElement("tbody",null,d.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement(p,{guest:t}),r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:e.onGuestEdit.bind(e,t.id)}," Edytuj "),r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:e.onGuestDelete.bind(e,t.id)}," Usu\u0144 "))})))),r.a.createElement("table",{className:"zui-table"},r.a.createElement(y,null),r.a.createElement("tbody",null,i.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement(p,{guest:t}),r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:e.onGuestEdit.bind(e,t.id)}," Edytuj "),r.a.createElement("td",{style:{backgroundColor:"red",color:"white",textShadow:"none"},onClick:e.onGuestDelete.bind(e,t.id)}," Usu\u0144 "))})))))}}]),t}(a.Component);var f=function(){return r.a.createElement(b,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.12c294f6.chunk.js.map